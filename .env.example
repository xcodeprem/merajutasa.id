# MerajutASA.id Environment Configuration Template
# Copy this file to .env.local for local development
# Configure environment-specific values for different deployment targets

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development
LOG_LEVEL=info
DEBUG=merajutasa:*

# =============================================================================
# CORE SERVICES - PORTS AND ENDPOINTS
# =============================================================================
# Signer Service (Ed25519 signing service)
SIGNER_PORT=4601
SIGNER_HOST=0.0.0.0

# External origin used by host-side tools/tests
SIGNER_ORIGIN=http://127.0.0.1:4601

# Chain Service (Hash chain service)  
CHAIN_PORT=4602
CHAIN_HOST=0.0.0.0
CHAIN_DATA_DIR=./artifacts

# External origin used by host-side tools/tests
CHAIN_ORIGIN=http://127.0.0.1:4602

# Event Collector Service
COLLECTOR_PORT=4603
COLLECTOR_HOST=0.0.0.0
EVENTS_DATA_DIR=./data

# Base URL used by host-side tools/tests
COLLECTOR_BASE=http://127.0.0.1:4603

# Revocation Service
REVOCATION_PORT=4604
REVOCATION_HOST=0.0.0.0

# Equity Service  
EQUITY_PORT=4605
EQUITY_HOST=0.0.0.0

# =============================================================================
# HIGH AVAILABILITY ORCHESTRATOR (Week 5)
# =============================================================================
HA_ORCHESTRATOR_PORT=8090
HA_ORCHESTRATOR_NAME=merajutasa-ha-orchestrator
HA_ORCHESTRATOR_HOST=0.0.0.0

# Multi-Region Configuration
PRIMARY_REGION=us-east-1
SECONDARY_REGIONS=us-west-2,eu-west-1,ap-southeast-1
DEPLOYMENT_STRATEGY=blue-green

# HA Orchestrator Configuration
HA_COORDINATION_INTERVAL=30000
HA_HEALTH_CHECK_INTERVAL=60000
HA_METRICS_RETENTION_PERIOD=86400000
HA_ALERT_COOLDOWN_PERIOD=300000
HA_EMERGENCY_RESPONSE_ENABLED=true

# Disaster Recovery Configuration
DR_BACKUP_SCHEDULE=0 2 * * *
DR_RETENTION_DAYS=30
DR_CROSS_REGION_REPLICATION=true
DR_RECOVERY_TIME_OBJECTIVE=300000
DR_RECOVERY_POINT_OBJECTIVE=900000

# Auto-Scaling Configuration
AUTO_SCALING_MIN_INSTANCES=2
AUTO_SCALING_MAX_INSTANCES=20
AUTO_SCALING_TARGET_CPU=70
AUTO_SCALING_PREDICTIVE_ENABLED=true

# Fault Tolerance Configuration
FAULT_TOLERANCE_FAILURE_THRESHOLD=5
FAULT_TOLERANCE_TIMEOUT_THRESHOLD=30000
FAULT_TOLERANCE_MAX_RETRIES=3

# Health Monitoring Configuration
HEALTH_MONITORING_CHECK_INTERVAL=30000
HEALTH_MONITORING_CPU_WARNING=75
HEALTH_MONITORING_CPU_CRITICAL=90
HEALTH_MONITORING_MEMORY_WARNING=80
HEALTH_MONITORING_MEMORY_CRITICAL=95
HEALTH_MONITORING_RESPONSE_TIME_WARNING=1000
HEALTH_MONITORING_RESPONSE_TIME_CRITICAL=5000

# =============================================================================
# PERFORMANCE & CACHING (Week 2)
# =============================================================================
# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379

# Cache Settings
CACHE_TTL=300
PERFORMANCE_MONITORING=true
SLA_MONITORING=true

# Connection Pool
DB_POOL_MIN=5
DB_POOL_MAX=50
DB_POOL_TIMEOUT=30000

# =============================================================================
# OBSERVABILITY STACK (Week 3)
# =============================================================================
# Observability System
OBSERVABILITY_PORT=8080
OBSERVABILITY_HOST=0.0.0.0

# Metrics Collection
METRICS_PORT=8081
METRICS_HOST=0.0.0.0
METRICS_INTERVAL=30

# Tracing Configuration
TRACING_PORT=8082
TRACING_HOST=0.0.0.0
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Log Aggregation
LOGS_PORT=8083
LOGS_HOST=0.0.0.0

# Anomaly Detection
ANOMALY_PORT=8084
ANOMALY_HOST=0.0.0.0

# Dashboards
DASHBOARDS_PORT=8085
DASHBOARDS_HOST=0.0.0.0

# =============================================================================
# API GATEWAY & SERVICE MESH (Week 4)
# =============================================================================
# API Gateway
API_GATEWAY_PORT=8080
API_GATEWAY_HOST=0.0.0.0

# Service Mesh
SERVICE_MESH_PORT=8086
SERVICE_MESH_HOST=0.0.0.0

# Load Balancer
LOAD_BALANCER_PORT=8087
LOAD_BALANCER_HOST=0.0.0.0

# =============================================================================
# HIGH AVAILABILITY COMPONENTS (Week 5)
# =============================================================================
# Multi-Region Deployment
MULTI_REGION_PORT=8095
MULTI_REGION_HOST=0.0.0.0

# Disaster Recovery
DR_PORT=8096
DR_HOST=0.0.0.0

# Auto-Scaling
AUTO_SCALING_PORT=8097
AUTO_SCALING_HOST=0.0.0.0

# Fault Tolerance
FAULT_TOLERANCE_PORT=8098
FAULT_TOLERANCE_HOST=0.0.0.0

# Health Monitoring
HEALTH_MONITORING_PORT=8099
HEALTH_MONITORING_HOST=0.0.0.0

# =============================================================================
# COMPLIANCE & SECURITY (Week 6)
# =============================================================================
# Compliance Orchestrator
COMPLIANCE_ORCHESTRATOR_PORT=9000
COMPLIANCE_ORCHESTRATOR_HOST=0.0.0.0

# Audit System
AUDIT_SYSTEM_PORT=9001
AUDIT_SYSTEM_HOST=0.0.0.0

# Compliance Automation
COMPLIANCE_AUTOMATION_PORT=9002
COMPLIANCE_AUTOMATION_HOST=0.0.0.0

# Privacy Rights Management
PRIVACY_RIGHTS_PORT=9003
PRIVACY_RIGHTS_HOST=0.0.0.0

# Security Hardening
SECURITY_HARDENING_PORT=9004
SECURITY_HARDENING_HOST=0.0.0.0

# =============================================================================
# COMPLIANCE & SECURITY CONFIGURATION (Week 6)
# =============================================================================
# Compliance Thresholds
COMPLIANCE_THRESHOLD=85
COMPLIANCE_MODE=strict
COMPLIANCE_FRAMEWORKS=gdpr,sox,iso27001,pci

# Audit System Configuration
AUDIT_RETENTION_DAYS=30
AUDIT_BATCH_SIZE=100
AUDIT_COMPLIANCE_MODE=strict

# Privacy Rights Management
PRIVACY_RESPONSE_DAYS=30
PRIVACY_JURISDICTIONS=gdpr,ccpa,pipeda,lgpd
PRIVACY_AUTO_PROCESSING=true

# Security Hardening Configuration
SECURITY_SCAN_DEPTH=deep
SECURITY_SCAN_INTERVAL=1800
SECURITY_AUTOMATED_RESPONSE=true

# Threat Detection & Response
THREAT_SENSITIVITY=medium
THREAT_DETECTORS=4
THREAT_AUTO_RESPONSE=true

# Incident Management
INCIDENT_AUTO_RESPONSE=true
INCIDENT_ESCALATION_THRESHOLD=high
INCIDENT_RESPONSE_TIME=300

# =============================================================================
# ALERTING & NOTIFICATIONS
# =============================================================================
# Email Configuration (SMTP)
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=alerts@merajutasa.id

# Slack Integration
SLACK_WEBHOOK_URL=

# Alert Thresholds
ALERT_THRESHOLDS_P95=200
ALERT_THRESHOLDS_P99=500
ALERT_AVAILABILITY=99.9
ENABLE_ALERTS=true

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_INTERVAL=30
METRICS_RETENTION_PERIOD=24

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
SESSION_TIMEOUT=3600
MAX_REQUEST_SIZE=10485760
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# DEPLOYMENT & CI/CD
# =============================================================================
DEPLOYMENT_MODE=development
BUILD_VERSION=
REGISTRY_URL=
IMAGE_NAME=

# =============================================================================
# GOVERNANCE & LINT TOGGLES
# =============================================================================
# Downgrade disclaimers-lint exit in local runs (still writes artifact)
DISC_BOOTSTRAP=0
# Emit SARIF for spec-hash diff
SPEC_HASH_SARIF=0
# Override cells file for policy aggregation enforce (optional path)
POLICY_CELLS_PATH=

# =============================================================================
# KUBERNETES & ORCHESTRATION
# =============================================================================
KUBE_NAMESPACE=default
KUBE_CONTEXT=
HELM_RELEASE_NAME=merajutasa

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================
ENABLE_DEBUG_LOGS=true
ENABLE_PROFILING=false
TRACE_REQUESTS=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_HA_ENABLED=true
FEATURE_OBSERVABILITY_ENABLED=true
FEATURE_COMPLIANCE_ENABLED=true
FEATURE_API_GATEWAY_ENABLED=true
FEATURE_PERFORMANCE_MONITORING_ENABLED=true

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
# These values can be overridden in .env.local, .env.development, .env.production, etc.
# See docs/onboarding/environment-setup.md for detailed configuration instructions